<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>try fetch</title>
</head>
<body>
    <div class="container">
        <input type="text">
        <button id="btn">click me</button>
    </div>
    <script>
        const btn = document.getElementById('btn');
        btn.addEventListener('click', async () => {
            try {
                const response = await fetch('http://localhost:5000/');
                const result = await response.text();
                document.querySelector('div').innerText = result;
            } catch (error) {
                console.log(error);vjbl dswd uvfd fcwe
            }
        });
    </script>app.post('/api/data', (req, res) => {
  console.log('Request received:', req.body);
  try {
    // your processing logic
    res.status(200).json({ message: 'Success!' });
  } catch (err) {
    console.error('Error in route:', err);
    res.status(500).json({ error: 'Internal Server Error' });
  }
});
app.get('/', async (req, res) => {
    try {
        const total = await Seller.countDocuments();
        const half = Math.floor(total / 2);
       const randomSellers = await Seller.aggregate([
    { $sample: { size: half } },
    { $project: { password: 0, __v: 0, createdAt: 0, updatedAt: 0 } }
]);
const randomItems = await Item.aggregate([
  { $sample: { size: half } },
  {
    $lookup: {
      from: 'prices',
      localField: 'price',
      foreignField: '_id',
      as: 'priceInfo'
    }
  },
  { $unwind: '$priceInfo' },
  {
    $project: {
      createdAt: 0,
      updatedAt: 0,
      price: 0
    }
  },
  {
    $addFields: {
      reservedPrice: '$priceInfo.reservedPrice'
    }
  }
]);

const randomStore = await Store.aggregate([
    { $sample: { size: half } },
    { $project: { createdAt: 0, updatedAt: 0 } }        
]);
        if (randomSellers.length === 0||  randomItems.length === 0) {
            res.status(404).json({ error: 'No sellers found' });
        } else {
            res.status(200).json({ sellers: randomSellers, items: randomItems });
        }
    } catch (error) {
        console.error('Error in root route:', error);
        res.status(500).json({ error: 'Internal Server Error' });
    }
});
    <script>

    </script>
</body>
</html>